"use strict";(self.webpackChunkTalkdeskChatSDK=self.webpackChunkTalkdeskChatSDK||[]).push([[624],{79624:function(t,e,n){n.r(e),n.d(e,{Instrument:function(){return Instrument}});var r=n(1883),i=n(11249),s=n(41437),o=n(22391),h=n(27531),c=n(48683),a=n.n(c),u=n(83707),d=window.onerror,l=!1,p="nr@seenError";class Instrument extends u.W{constructor(t){super(t),this.skipNext=0;const e=this;this.ee.on("fn-start",(function(t,e,n){l&&(this.skipNext=this.skipNext?this.skipNext+1:1)})),this.ee.on("fn-err",(function(t,n,r){l&&!r[p]&&((0,o.X)(r,p,(function getVal(){return!0})),this.thrown=!0,notice(r,void 0,e.ee))})),this.ee.on("fn-end",(function(){l&&!this.thrown&&this.skipNext>0&&(this.skipNext-=1)})),this.ee.on("internal-error",(t=>{(0,r.pr)("ierr",[t,(0,s.zO)(),!0],void 0,void 0,this.ee)}));const n=window.onerror;window.onerror=(...t)=>(n&&n(...t),this.onerrorHandler(...t),!1);try{window.addEventListener("unhandledrejection",(t=>{this.onerrorHandler(null,null,null,null,new Error(t.reason))}))}catch(t){}try{throw new Error}catch(t){"stack"in t&&((0,h.BV)(this.ee),(0,h.gy)(this.ee),"addEventListener"in window&&(0,h.em)(this.ee),(0,i.O)(this.agentIdentifier).xhrWrappable&&(0,h.Kf)(this.ee),l=!0)}}onerrorHandler(t,e,n,i,o){try{this.skipNext?this.skipNext-=1:notice(o||new UncaughtException(t,e,n),!0,this.ee)}catch(t){try{(0,r.pr)("ierr",[t,(0,s.zO)(),!0],void 0,void 0,this.ee)}catch(t){}}return"function"==typeof d&&d.apply(this,a()(arguments))}}function UncaughtException(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function notice(t,e,n){var i=e?null:(0,s.zO)();(0,r.pr)("err",[t,i],void 0,void 0,n)}}}]);
//# sourceMappingURL=624.talkdeskchatsdk.js.map