"use strict";(self.webpackChunkTalkdeskChatSDK=self.webpackChunkTalkdeskChatSDK||[]).push([[340],{80340:function(e,t,a){a.r(t),a.d(t,{Aggregate:function(){return Aggregate}});var r=a(97084),n=a(30717),d=a(18253),i="Start",s="End",o="unloadEvent",u="redirect",p="domainLookup",c="onnect",l="response",g="loadEvent",f="domContentLoadedEvent",h=[];function addPN(e,t){return addRel(e.type,0,t,"ty"),addRel(e.redirectCount,0,t,"rc"),t}function addRel(e,t,a,r){var n;"number"==typeof e&&e>0&&(n=Math.round(e-t),a[r]=n),h.push(n)}var m=a(89247),w={};var R=a(82624),v=a(80406),T=a(25768),y=a(11249),b=a(46303),k=a(83707);class Aggregate extends k.W{constructor(e,t){super(e,t),this.getScheme=()=>!1===(0,v.Mt)(this.agentIdentifier,"ssl")?"http":"https";const a=(0,T.C)(this.agentIdentifier);if(a.beacon){a.queueTime&&this.aggregator.store("measures","qt",{value:a.queueTime}),a.applicationTime&&this.aggregator.store("measures","ap",{value:a.applicationTime}),(0,r.L)(this.aggregator,"be","starttime","firstbyte"),(0,r.L)(this.aggregator,"fe","firstbyte","onload"),(0,r.L)(this.aggregator,"dc","firstbyte","domContent");var h,k,C,E=this.aggregator.get("measures"),S=(0,n.D)(E,(function(e,t){return"&"+e+"="+t.params.value})).join(""),M=[new b.o("page-view-event",{},this).harvest.baseQueryString()];if(M.push(S),M.push((0,d.wu)("tt",a.ttGuid)),M.push((0,d.wu)("us",a.user)),M.push((0,d.wu)("ac",a.account)),M.push((0,d.wu)("pr",a.product)),M.push((0,d.wu)("af",(0,n.D)((0,y.O)(this.agentIdentifier).features,(function(e){return e})).join(","))),window.performance&&void 0!==window.performance.timing){var I={timing:(h=window.performance.timing,k={},C=h["navigation"+i],k.of=C,addRel(C,C,k,"n"),addRel(h[o+i],C,k,"u"),addRel(h[u+i],C,k,"r"),addRel(h[o+s],C,k,"ue"),addRel(h[u+s],C,k,"re"),addRel(h["fetch"+i],C,k,"f"),addRel(h[p+i],C,k,"dn"),addRel(h[p+s],C,k,"dne"),addRel(h["c"+c+i],C,k,"c"),addRel(h["secureC"+c+"ion"+i],C,k,"s"),addRel(h["c"+c+s],C,k,"ce"),addRel(h["request"+i],C,k,"rq"),addRel(h[l+i],C,k,"rp"),addRel(h[l+s],C,k,"rpe"),addRel(h.domLoading,C,k,"dl"),addRel(h.domInteractive,C,k,"di"),addRel(h[f+i],C,k,"ds"),addRel(h[f+s],C,k,"de"),addRel(h.domComplete,C,k,"dc"),addRel(h[g+i],C,k,"l"),addRel(h[g+s],C,k,"le"),k),navigation:addPN(window.performance.navigation,{})};M.push((0,d.wu)("perf",(0,m.P)(I)))}if(window.performance&&window.performance.getEntriesByType){var L=window.performance.getEntriesByType("paint");L&&L.length>0&&L.forEach((function(e){!e.startTime||e.startTime<=0||("first-paint"===e.name?M.push((0,d.wu)("fp",String(Math.floor(e.startTime)))):"first-contentful-paint"===e.name&&M.push((0,d.wu)("fcp",String(Math.floor(e.startTime)))),function addMetric(e,t){w[e]=t}(e.name,Math.floor(e.startTime)))}))}M.push((0,d.wu)("xx",a.extra)),M.push((0,d.wu)("ua",a.userAttributes)),M.push((0,d.wu)("at",a.atts));var j=(0,m.P)(a.jsAttributes);M.push((0,d.wu)("ja","{}"===j?null:j));var q=(0,d.nI)(M,(0,y.O)(this.agentIdentifier).maxBytes);R.T.jsonp(this.getScheme()+"://"+a.beacon+"/1/"+a.licenseKey+q,"NREUM.setToken")}}}}}]);
//# sourceMappingURL=340.talkdeskchatsdk.js.map