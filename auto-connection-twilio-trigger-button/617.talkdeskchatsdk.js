"use strict";(self.webpackChunkTalkdeskChatSDK=self.webpackChunkTalkdeskChatSDK||[]).push([[617],{92055:function(e,t,n){n.d(t,{C:function(){return c},ee:function(){return d}});var r=n(26253),i=n(22391),o=n(30717),s="nr@context";let a=(0,r.fP)();var c;a.ee?c=a.ee:(c=ee(void 0,"globalEE"),a.ee=c);var d=ee(void 0,"baseEE");function EventContext(){}function ee(e,t){var n={},r={},a={},c={on:addEventListener,addEventListener:addEventListener,removeEventListener:function removeEventListener(e,t){var r=n[e];if(!r)return;for(var i=0;i<r.length;i++)r[i]===t&&r.splice(i,1)},emit:function emit(t,n,i,o,s){!1!==s&&(s=!0);if(d.aborted&&!o)return;e&&s&&e.emit(t,n,i);for(var a=context(i),f=listeners(t),u=f.length,v=0;v<u;v++)f[v].apply(a,n);var b=getBuffer()[r[t]];b&&b.push([c,t,n,a]);return a},get:function getOrCreate(e){return a[e]=a[e]||ee(c,e)},listeners:listeners,context:context,buffer:function bufferEventsByGroup(e,t){var n=getBuffer();if(c.aborted)return;(0,o.D)(e,(function(e,i){t=t||"feature",r[i]=t,t in n||(n[t]=[])}))},abort:abortIfNotLoaded,aborted:!1,isBuffering:function isBuffering(e){return!!getBuffer()[r[e]]},debugId:t};return e||(c.backlog={}),c;function context(e){return e&&e instanceof EventContext?e:e?(0,i.X)(e,s,getNewContext):getNewContext()}function addEventListener(e,t){n[e]=listeners(e).concat(t)}function listeners(e){return n[e]||[]}function getBuffer(){return e?e.backlog:c.backlog}}function getNewContext(){return new EventContext}function abortIfNotLoaded(){(d.backlog.api||d.backlog.feature)&&(d.aborted=!0,d.backlog={})}},1883:function(e,t,n){n.d(t,{EM:function(){return i},l_:function(){return o},pr:function(){return handle}});var r=n(92055),i=r.ee.get("handle"),o=r.C.get("handle");function handle(e,t,n,r,o){o?(o.buffer([e],r),o.emit(e,t,n)):(i.buffer([e],r),i.emit(e,t,n))}},74137:function(e,t,n){n.d(t,{m:function(){return eventListenerOpts}});var r=!1;try{var i=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassive",null,i),window.removeEventListener("testPassive",null,i)}catch(e){}function eventListenerOpts(e){return r?{passive:!0,capture:!!e}:!!e}},83707:function(e,t,n){n.d(t,{W:function(){return FeatureBase}});var r=n(92055);class FeatureBase{constructor(e,t){this.agentIdentifier=e,this.aggregator=t,this.ee=r.ee.get(e)}}},22391:function(e,t,n){n.d(t,{X:function(){return getOrSet}});var r=Object.prototype.hasOwnProperty;function getOrSet(e,t,n){if(r.call(e,t))return e[t];var i=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:i,writable:!0,enumerable:!1}),i}catch(e){}return e[t]=i,i}},60617:function(e,t,n){n.r(t),n.d(t,{Instrument:function(){return Instrument}});var r,i,o,s=n(1883),a=n(74137);void 0!==document.hidden?(r="hidden",i="visibilitychange",o="visibilityState"):void 0!==document.msHidden?(r="msHidden",i="msvisibilitychange"):void 0!==document.webkitHidden&&(r="webkitHidden",i="webkitvisibilitychange",o="webkitVisibilityState");var c=n(26253),d=n(41437),f=n(80406),u=n(83707);class Instrument extends u.W{constructor(e){if(super(e),this.pageHiddenTime,this.performanceObserver,this.lcpPerformanceObserver,this.clsPerformanceObserver,this.fiRecorded=!1,this.isEnabled()){if("PerformanceObserver"in window&&"function"==typeof window.PerformanceObserver){this.performanceObserver=new PerformanceObserver(perfObserver);try{this.performanceObserver.observe({entryTypes:["paint"]})}catch(e){}this.lcpPerformanceObserver=new PerformanceObserver(lcpObserver);try{this.lcpPerformanceObserver.observe({entryTypes:["largest-contentful-paint"]})}catch(e){}this.clsPerformanceObserver=new PerformanceObserver(clsObserver);try{this.clsPerformanceObserver.observe({type:"layout-shift",buffered:!0})}catch(e){}}if("addEventListener"in document){this.fiRecorded=!1;["click","keydown","mousedown","pointerdown","touchstart"].forEach((e=>{document.addEventListener(e,((...e)=>this.captureInteraction(...e)),(0,a.m)(!1))}))}!function subscribeToVisibilityChange(e){"addEventListener"in document&&i&&document.addEventListener(i,(function handleVisibilityChange(){o&&document[o]?e(document[o]):document[r]?e("hidden"):e("visible")}),(0,a.m)(!1))}(((...e)=>this.captureVisibilityChange(...e)))}}isEnabled(){return!1!==(0,f.Mt)(this.agentIdentifier,"page_view_timing.enabled")}perfObserver(e,t){e.getEntries().forEach((e=>{"first-paint"===e.name?(0,s.pr)("timing",["fp",Math.floor(e.startTime)],void 0,void 0,this.ee):"first-contentful-paint"===e.name&&(0,s.pr)("timing",["fcp",Math.floor(e.startTime)],void 0,void 0,this.ee)}))}lcpObserver(e,t){var n=e.getEntries();if(n.length>0){var r=n[n.length-1];if(this.pageHiddenTime&&this.pageHiddenTime<r.startTime)return;var i=[r],o=this.addConnectionAttributes({});o&&i.push(o),(0,s.pr)("lcp",i,void 0,void 0,this.ee)}}clsObserver(e){e.getEntries().forEach((function(e){e.hadRecentInput||(0,s.pr)("cls",[e],void 0,void 0,this.ee)}))}addConnectionAttributes(e){var t=navigator.connection||navigator.mozConnection||navigator.webkitConnection;if(t)return t.type&&(e["net-type"]=t.type),t.effectiveType&&(e["net-etype"]=t.effectiveType),t.rtt&&(e["net-rtt"]=t.rtt),t.downlink&&(e["net-dlink"]=t.downlink),e}captureInteraction(e){if(e instanceof(0,c.fP)().o.EV&&!this.fiRecorded){var t=Math.round(e.timeStamp),n={type:e.type};this.addConnectionAttributes(n),t<=(0,d.zO)()?n.fid=(0,d.zO)()-t:t>(0,d.os)()&&t<=Date.now()?(t-=(0,d.os)(),n.fid=(0,d.zO)()-t):t=(0,d.zO)(),this.fiRecorded=!0,(0,s.pr)("timing",["fi",t,n],void 0,void 0,this.ee)}}captureVisibilityChange(e){"hidden"===e&&(this.pageHiddenTime=(0,d.zO)(),(0,s.pr)("pageHide",[this.pageHiddenTime],void 0,void 0,this.ee))}}}}]);
//# sourceMappingURL=617.talkdeskchatsdk.js.map